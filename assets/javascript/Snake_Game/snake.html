<html>
    <title>SERGIO'S SNAKE GAME</title>
    <h1 style="color:limegreen;font-size:4em;text-align-last: center;background-color: white">SNAKE<IMG SRC="https://media.giphy.com/media/mhRAm1wKtsMHC/giphy.gif" style=width:200px;height:100px;></h1>
        <h1 style="text-align-last: center"><canvas id="gridcount" width="400" height="400"></canvas></h1>
        <style>body{
            background-color: limegreen
            }</style>
<script>
    
window.onload=function() {
	canv=document.getElementById("gridcount");
	ctx=canv.getContext("2d");
	document.addEventListener("keydown",keyPush);
	setInterval(game,1000/15);
}
positionx=positiony=10;
gs=tc=20;
applex=appley=15;
xvelocity=yvelocity=0;
trail=[];
tail = 5;
function game() {
	positionx+=xvelocity;
	positiony+=yvelocity;
	if(positionx<0) {
		positionx= tc-1;
	}
	if(positionx>tc-1) {
		positionx= 0;
	}
	if(positiony<0) {
		positiony= tc-1;
	}
	if(positiony>tc-1) {
		positiony= 0;
	}
	ctx.fillStyle="black";
	ctx.fillRect(0,0,canv.width,canv.height);

	ctx.fillStyle="white";
	for(var i=0;i<trail.length;i++) {
		ctx.fillRect(trail[i].x*gs,trail[i].y*gs,gs-2,gs-2);
		if(trail[i].x==positionx && trail[i].y==positiony) {
			tail = 5;
		}
	}
	trail.push({x:positionx,y:positiony});
	while(trail.length>tail) {
	trail.shift();
	}

	if(applex==positionx && appley==positiony) {
		tail++;
		applex=Math.floor(Math.random()*tc);
		appley=Math.floor(Math.random()*tc);
	}
	ctx.fillStyle="red";
	ctx.fillRect(applex*gs,appley*gs,gs-2,gs-2);
}
function keyPush(evt) {
	switch(evt.keyCode) {
		case 37:
			xvelocity=-1;yvelocity=0;
			break;
		case 38:
			xvelocity=0;yvelocity=-1;
			break;
		case 39:
			xvelocity=1;yvelocity=0;
			break;
		case 40:
			xvelocity=0;yvelocity=1;
			break;
	}
}
</script>
</html>
